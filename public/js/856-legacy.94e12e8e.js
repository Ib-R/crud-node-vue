"use strict";(self["webpackChunkdev_yelp"]=self["webpackChunkdev_yelp"]||[]).push([[856],{9856:function(e,t,r){r.r(t),r.d(t,{default:function(){return k}});var s=r(6190),a=r(266),n=r(9256),i=r(5125),c=r(1713),o=r(7808),u=(r(8309),function(){var e=this,t=e._self._c;return t(i.Z,{ref:"form",model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[t(n.Z,[t("h2",[e._v(" "+e._s("CreateCompany"==this.$route.name?"Create":"Update")+" Company ")]),t(c.Z,[t(a.Z,{attrs:{cols:"12",md:"6"}},[t(o.Z,{attrs:{label:"Name",rules:e.requiredString,required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),t(a.Z,{attrs:{cols:"12",md:"6"}},[t(o.Z,{attrs:{rules:e.requiredString,label:"Address",required:""},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}})],1),t(a.Z,{attrs:{cols:"12",md:"12"}},[t(o.Z,{attrs:{rules:e.requiredString,label:"Description",required:""},model:{value:e.desc,callback:function(t){e.desc=t},expression:"desc"}})],1),t(a.Z,{attrs:{cols:"12",md:"4"}},[t(s.Z,{staticClass:"mr-4",attrs:{disabled:!e.form,color:"success"},on:{click:this.submit}},[e._v(" Submit ")])],1)],1)],1)],1)}),d=[],l=r(5082),h=r(124),m=r(8534),p=(r(1539),r(2222),r(8862),r(629)),f={data:function(){return{form:"",requiredString:[function(e){return!!e||"Field is required"},function(e){return e&&e.length>=5||"Field must be more than 5 characters"}],name:"",desc:"",address:""}},created:function(){var e=(0,m.Z)((0,h.Z)().mark((function e(){var t;return(0,h.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("UpdateCompany"!=this.$route.name){e.next=8;break}return e.next=3,fetch("".concat("http://localhost:5000/api/","v1/companies/").concat(this.$route.params.id),{headers:{Authorization:"Bearer ".concat(this.token)}});case 3:return t=e.sent,e.next=6,t.json();case 6:t=e.sent,t.data?(this.id=t.data.id,this.name=t.data.name,this.desc=t.data.desc,this.address=t.data.address):t.error&&(this.error=t.error);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{submit:function(){var e=(0,m.Z)((0,h.Z)().mark((function e(){var t,r,s;return(0,h.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.params.id||"",r=t?"PUT":"POST",e.next=4,fetch("".concat("http://localhost:5000/api/","v1/companies/").concat(t),{method:r,headers:{Authorization:"Bearer ".concat(this.token),"Content-Type":"application/json"},body:JSON.stringify({name:this.name,address:this.address,desc:this.desc})});case 4:return s=e.sent,e.next=7,s.json();case 7:s=e.sent,s.data?alert("Submitted Successfuly"):s.error&&(this.error=s.error),this.$router.push("/companies");case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},computed:(0,l.Z)({},(0,p.Se)(["token"]))},Z=f,v=r(3736),b=(0,v.Z)(Z,u,d,!1,null,null,null),k=b.exports}}]);
//# sourceMappingURL=856-legacy.94e12e8e.js.map